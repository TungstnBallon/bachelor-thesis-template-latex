
\chapter{Introduction}
\label{chapter:Introduction}

{\textsl{General instructions:}}
You should make use of our outline for structuring your
thesis. The specific outline is determined by your thesis type.
Please refer to the outlines at
\url{https://oss.cs.fau.de/theses/structure-content/}.

{\textsl{\LaTeX\ instructions:}} Here is an example citation
\autocite{riehle:2011:controlling}.
\textcite{riehle:2007:economic} gave another example citation.

\begin{figure}[ht]
	\includegraphics[width=0.5\textwidth]{resources/\logo}
	\caption{Example of a Figure}
	\label{fig:example}
\end{figure}

\chapter{Literature Review}
\label{chapter:Literature}

All chapters shall start on a right page!

For more convenient creation of latex tables we recommend:

\url{https://www.tablesgenerator.com/}

\begin{table}[ht]
	\caption{Example of a Table}
	\label{tab:example}
	\begin{tabular}{|l|l|}
		\hline
		Nice column      & Very nice column          \\
		\hline
		some content     & some more content         \\
		some information & some ... (you guess what) \\
		\hline
	\end{tabular}
\end{table}

I am using an the \ac{FACR} here. The second usage of \ac{FACR} will only display the acronym itself.
\newpage
Some more text.

\chapter{Architecture}
\label{chapter:Architecture}

Jayvee processes pipelines made up of a sequence blocks.
Each block has an input and ouptut.
Jayvee allows certain types of input / output defined in \lstinline{libs/language-server/src/lib/ast/io-type.ts}:

\begin{lstlisting}[caption=The \lstinline{IOType} enum]
enum IOType {
	NONE = 'None',
	FILE = 'File',
	TEXT_FILE = 'TextFile',
	FILE_SYSTEM = 'FileSystem',
	SHEET = 'Sheet',
	TABLE = 'Table',
	WORKBOOK = 'Workbook',
}
\end{lstlisting}

If a class wants to be allowed as an input / output it must implement the \lstinline{IOTypeImplementation<T>} interface where \lstinline{T} is one of the variants of the above enum.
\lstinline{libs/execution/src/lib/types/io-types/io-type-implementation.ts}:

\begin{lstlisting}
interface IOTypeImplementation<T extends IOType = IOType> {
	ioType: T;
	acceptVisitor<R = unknown>(visitor: IoTypeVisitor<R>): R;
}
\end{lstlisting}

One of the requirements is to be able to pick the implementation at runtime, via a flag passed to the interpreter.
Because of this, the architecture uses the strategy pattern. % TODO: Add citation with advantages and drawbacks of this pattern

\begin{figure}
	\begin{plantuml}
		@startuml

		interface IOTypeImplementation<T extends IOType = IOType> {
				+ioType: T
				+acceptVisitor<R>(vistor: IoTypeVisitor<R>): R
			}
		abstract class Table {
				+ioType: IOType.TABLE
			}
		IOTypeImplementation <|.. Table : IOtypeImplementation<IOType.TABLE>
		abstract class TableColumn {
			}
		class PolarsTable extends Table {
				-df: polars.DataFrame
			}
		class TsTable extends Table {
				+columns: Map<string, TsTableColumn>
			}
		class PolarsTableColumn extends TableColumn {
				-series: polars.Series
			}
		class TsTableColumn<T extends InternalValueRepresentation> extends TableColumn {
			}



		TsTable "1" *-- "many" TsTableColumn

		PolarsTable "1" *-- "1" polars.DataFrame: df
		PolarsTableColumn "1" *-- "1" polars.Series: series

		@enduml
	\end{plantuml}
\end{figure}

\chapter{Implementation}
\label{chapter:Implementation}

Jayvee implements \lstinline{IOTypeImplementation<IOType.TABLE>} in \lstinline{libs/execution/src/lib/types/io-types/table.ts} and \lstinline{libs/execution/src/lib/types/io-types/table-column.ts}.

\chapter{Evaluation}
\label{chapter:Evaluation}

\chapter{Conclusions}
\label{chapter:Conclusions}

